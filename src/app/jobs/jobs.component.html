<section class="m-auto w-full flex flex-col items-center pb-20">
  <form
    [formGroup]="applyForm"
    (submit)="submitApplication()"
    class="w-2/4 mt-5"
  >
    <div class="mb-5">
      <label for="name" class="block mb-2 text-sm font-medium text-dark"
        >*Name:</label
      >
      <input
        type="text"
        id="name"
        formControlName="name"
        class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500"
        required
      />
      <div
        *ngIf="
          applyForm.get('name')?.invalid &&
          (applyForm.get('name')?.touched || applyForm.get('name')?.dirty)
        "
      >
        <small class="text-red-500">
          <div *ngIf="applyForm.get('name')?.errors?.['required']">
            Name is required.
          </div>
          <div *ngIf="applyForm.get('name')?.errors?.['pattern']">
            Only alphabet characters and spaces are allowed.
          </div>
        </small>
      </div>
    </div>

    <div class="mb-5">
      <label for="email" class="block mb-2 text-sm font-medium text-dark"
        >*Email:</label
      >
      <input
        type="email"
        id="email"
        formControlName="email"
        class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500"
        required
      />
      <div
        *ngIf="
          applyForm.get('email')?.invalid &&
          (applyForm.get('email')?.touched || applyForm.get('email')?.dirty)
        "
      >
        <small class="text-red-500">
          <div *ngIf="applyForm.get('email')?.errors?.['required']">
            Email is required.
          </div>
          <div *ngIf="applyForm.get('email')?.errors?.['pattern']">
            Invalid email format.
          </div>
        </small>
      </div>
    </div>

    <div class="mb-5">
      <label for="start_date" class="block mb-2 text-sm font-medium text-dark"
        >Start Date:</label
      >
      <input
        type="date"
        id="start_date"
        formControlName="start_date"
        class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500"
        required
      />
      <div
        *ngIf="
          applyForm.get('start_date')?.invalid &&
          (applyForm.get('start_date')?.touched ||
            applyForm.get('start_date')?.dirty)
        "
      >
        <small class="text-red-500">
          <div *ngIf="applyForm.get('start_date')?.errors?.['required']">
            Start date is required.
          </div>
          <div
            *ngIf="applyForm.get('start_date')?.errors?.['invalidStartDate']"
          >
            Start date cannot be today or in the past.
          </div>
        </small>
      </div>
    </div>

    <div class="mb-5">
      <label for="experience" class="block mb-2 text-sm font-medium text-dark"
        >*Experience:</label
      >
      <textarea
        id="experience"
        formControlName="experience"
        class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-base focus:ring-blue-500 focus:border-blue-500"
        rows="5"
        required
      ></textarea>
      <div
        *ngIf="
          applyForm.get('experience')?.invalid &&
          (applyForm.get('experience')?.touched ||
            applyForm.get('experience')?.dirty)
        "
      >
        <small class="text-red-500">
          <div *ngIf="applyForm.get('experience')?.errors?.['required']">
            Experience is required.
          </div>
        </small>
      </div>
    </div>

    <button
      type="reset"
      class="border-warning border text-warning mt-2 px-5 py-2 rounded-lg mr-5 hover:border-danger hover:text-danger"
    >
      Clear
    </button>
    <button
      type="submit"
      class="bg-ascent text-white mt-2 px-5 py-2 rounded-lg hover:bg-dark"
    >
      Submit
    </button>
  </form>
</section>
